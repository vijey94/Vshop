{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vijay\\\\Desktop\\\\Projet Final\\\\front-end\\\\src\\\\components\\\\Accueil.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { state } from \"../Context\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./styles/accueil.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Accueil() {\n  _s();\n\n  const [listAnnonce, setlistAnnonce] = useState([]);\n  let {\n    stateNavBar\n  } = useContext(state);\n  let history = useHistory(); // 1er cas: pas de deuxieme parametre => se lance a chaque fois que l'un de nos state est mise à jours\n  // 2ème cas: deuxieme parametre : []  => se lance seulement au lancement de la page ( équivalent du onLoad )\n  // 3ème cas: useEffect sera a l'écoute de la modification d'une variable => se lance a chaque fois que la variable change de valeur\n\n  useEffect(() => {\n    fetch(\"/annonce\").then(data => data.json()).then(resultat => {\n      setlistAnnonce(resultat.data);\n      console.log(resultat);\n    }).catch(erreur => console.log(erreur));\n  }, []);\n\n  const achatProduit = id => {\n    console.log(id); // fetch /produit -> POST\n\n    fetch(\"/panier\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        id: id\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${stateNavBar}`\n      }\n    }).then(data => data.json()).then(resultat => history.push(\"/panier\")).catch(erreur => console.log(erreur));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Page d'accueil \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerProduit\",\n      children: listAnnonce.map(_ref => {\n        let {\n          _id,\n          nom,\n          prix,\n          quantity,\n          description,\n          photo\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"produit\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: photo,\n            alt: \"Produit\",\n            className: \"imgProduit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: nom\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [prix, \" $\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"buttonAchat\",\n            onClick: () => achatProduit(_id),\n            children: \"Achat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"buttonDetail\",\n            onClick: () => history.push(`/annonce/${_id}`),\n            children: \"Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, _id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Accueil, \"GKVR8yeRshrufsvVVPAy1MKhW80=\", false, function () {\n  return [useHistory];\n});\n\n_c = Accueil;\n\nvar _c;\n\n$RefreshReg$(_c, \"Accueil\");","map":{"version":3,"names":["React","useState","useEffect","useContext","state","useHistory","Accueil","listAnnonce","setlistAnnonce","stateNavBar","history","fetch","then","data","json","resultat","console","log","catch","erreur","achatProduit","id","method","body","JSON","stringify","headers","Authorization","push","map","_id","nom","prix","quantity","description","photo"],"sources":["C:/Users/vijay/Desktop/Projet Final/front-end/src/components/Accueil.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { state } from \"../Context\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./styles/accueil.css\";\n\nexport default function Accueil() {\n  const [listAnnonce, setlistAnnonce] = useState([]);\n\n  let { stateNavBar } = useContext(state);\n\n  let history = useHistory();\n\n  // 1er cas: pas de deuxieme parametre => se lance a chaque fois que l'un de nos state est mise à jours\n  // 2ème cas: deuxieme parametre : []  => se lance seulement au lancement de la page ( équivalent du onLoad )\n  // 3ème cas: useEffect sera a l'écoute de la modification d'une variable => se lance a chaque fois que la variable change de valeur\n\n  useEffect(() => {\n    fetch(\"/annonce\")\n      .then((data) => data.json())\n      .then((resultat) => {\n        setlistAnnonce(resultat.data);\n        console.log(resultat);\n      })\n      .catch((erreur) => console.log(erreur));\n  }, []);\n\n  const achatProduit = (id) => {\n    console.log(id);\n    // fetch /produit -> POST\n    fetch(\"/panier\", {\n      method: \"POST\",\n      body: JSON.stringify({ id: id }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${stateNavBar}`,\n      },\n    })\n      .then((data) => data.json())\n      .then((resultat) => history.push(\"/panier\"))\n      .catch((erreur) => console.log(erreur));\n  };\n\n  return (\n    <div>\n      <h1> Page d'accueil </h1>\n      <div className=\"containerProduit\">\n        {listAnnonce.map(({ _id, nom, prix, quantity, description, photo }) => {\n          return (\n            <div key={_id} className=\"produit\">\n              <img src={photo} alt=\"Produit\" className=\"imgProduit\" />\n              <h2>{nom}</h2>\n              <p>{prix} $</p>\n              <p>{description}</p>\n              <p>{quantity}</p>\n              <button className=\"buttonAchat\" onClick={() => achatProduit(_id)}>\n                Achat\n              </button>\n              <button\n                className=\"buttonDetail\"\n                onClick={() => history.push(`/annonce/${_id}`)}\n              >\n                Details\n              </button>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}